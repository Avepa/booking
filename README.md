# Booking

Для запуска, можно использовать `docker-compose up`.
##

### Добавление комнаты:

Для добавления комнаты в базу данных, необходимо сделать POST.

Пример запроса: `http://host/room/add`

Необходимые заголовки: `description`, `price`.

Пример ответа:

    {
        "room_id":23
    }
##    

### Удаление комнаты:

Для удаления, необходимо сделать DELETE запрос.

Пример запроса: `http://host/room/delete?room_id=[id]`

Параметры запроса:

   * id - номер комнаты в базе данных.
   
Пример ответа:

    {
        "status":"ok"
    }
##
    
### Получение списка комнат:

Комнаты по умолчанию сортируются от самых новых к самым старым.

Для получения списка, необходимо сделать GET запрос.

Пример запроса: `http://host/room/list?sorting=[type]`

Параметры запроса:

   * type - тип сортировки, может равняться:
   
    1. data - сортировка по дате, от самой старой, к самой новой;
    2. date_desc - сортировка по дате, сортировка от самой новой, к самой старой;
    3. price - сортировка по цене, от самой дешевой, к самой дорогой;
    4. price_desc - сортировка по цене, от самой дорогой, к самой дешевой.
    
Пример ответа:

    [
      {
          "room_id":9,
          "description":"room with one bed",
          "price":-1.35,
          "date":"2021-01-05"
      },
      {
        "room_id":2,
        "description":"good",
        "price":6,
        "date":"2021-01-04"
      },
      {
        "room_id":4,
        "description":"good",
        "price":6,
        "date":"2021-01-04"
      }
    ]
##

### Создание брони:

Для создания брони, необходимо сделать POST запрос.

Пример запроса: `http://host/bookings/create`

Необходимые заголовки: `room_id`, `date_start`, `date_end`.

Пример ответа:

    {
        "booking_id":7
    }
##

### Удаление брони:

Для удаления, необходимо сделать DELETE запрос.

Пример запроса: `http://host/bookings/delete?booking_id=[id]`

Параметры запроса:

   * id - номер брони в базе данных.
   
Пример ответа:

    {
        "status":"ok"
    }
##

### Получение списка борони на комнату:

Брони по умолчанию сортируются от дате заезда.

Для получения списка, необходимо сделать GET запрос.

Пример запроса: `http://host/room/bookings/list?room_id=[id]`

Параметры запроса:

   * id - номер комнаты в базе данных.
   
Пример ответа:

    [
      {
          "booking_id":8,
          "date_start":"2018-04-06",
          "date_end":"2018-04-06"
      },
      {
          "booking_id":7,
          "date_start":"2018-05-06",
          "date_end":"2018-05-06"
      },
      {
          "booking_id":9,
          "date_start":"2018-06-09",
          "date_end":"2018-06-10"
      }
    ]